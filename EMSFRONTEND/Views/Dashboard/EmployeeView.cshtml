


@{
    ViewData["Title"] = "Emplyoee Dashboard";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        /* Ensure the body takes up the full height */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            display: flex;
            flex-direction: column;
            background-color: #f8f9fa;
        }

        /* Navbar remains at the top */
        .navbar {
            z-index: 1000;
        }

        /* Sidebar styling */
        .sidebar {
            width: 60px; /* Initial width when hidden */
            background-color: #343a40;
            position: fixed;
            top: 56px; /* Account for the navbar height */
            left: 0;
            bottom: 0;
            padding-top: 20px; /* Adjusted padding for the hamburger icon */
            color: white;
            transition: width 0.3s; /* Smooth transition for width */
            overflow: hidden; /* Hide overflow when collapsed */
        }

            .sidebar.expanded {
                width: 250px; /* Expanded width */
                overflow: auto; /* Allow overflow when expanded */
            }

            .sidebar a {
                color: white;
                padding: 15px 10px;
                text-decoration: none;
                display: flex; /* Use flexbox to align icon and text */
                align-items: center; /* Center items vertically */
                justify-content: center; /* Center items horizontally when collapsed */
                white-space: nowrap; /* Prevent text from wrapping */
                transition: padding-left 0.3s; /* Smooth transition for padding */
            }

            .sidebar.expanded a {
                justify-content: flex-start; /* Align items to the start when expanded */
                padding-left: 20px; /* Add padding to the left for expanded view */
            }

            .sidebar a:hover {
                background-color: #007bff;
            }

        /* Main content should fill the available space */
        .main-content {
            margin-left: 60px; /* Align main content with hidden sidebar */
            padding: 20px;
            flex-grow: 1;
            background-color: #f8f9fa;
            height: calc(100vh - 56px); /* Full height minus navbar */
            overflow-y: auto; /* Enable scrolling if content exceeds screen height */
            transition: margin-left 0.3s; /* Smooth transition for content */
        }

        .sidebar.expanded ~ .main-content {
            margin-left: 250px; /* Shift main content when sidebar is expanded */
        }

        /* Profile icon styling */
        .btn-profile {
            padding: 0.3rem;
            font-size: 1.5rem;
        }

        /* Styling for sidebar links with icons */
        .sidebar a {
            padding-left: 0; /* Remove left padding when collapsed */
        }

        .sidebar i {
            margin-right: 10px; /* Space between icon and text */
        }

        /* Hide text when sidebar is collapsed */
        .sidebar a span {
            display: none; /* Hide text by default */
        }

        .sidebar.expanded a span {
            display: inline; /* Show text on expanded view */
        }

        /* Show only icons when collapsed */
        .sidebar a {
            padding-left: 0; /* Remove left padding when collapsed */
        }

        /* Hamburger icon margin */
        .btn-hamburger {
            margin-right: 15px; /* Increased distance from the Manager Dashboard text */
        }
    </style>
</head>
<body>

    <!-- Responsive Bootstrap Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <button class="btn btn-outline-secondary btn-hamburger" id="hamburger">
            <i class="bi bi-list"></i> <!-- Hamburger icon -->
        </button>
        <a class="navbar-brand" href="#">Employee Dashboard</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="btn btn-outline-secondary btn-profile" id="profileIcon"
                       asp-controller="Team"
                       asp-action="ProfileView"
                       asp-route-userId="@ViewBag.UserId">
                        <!-- Pass the UserId as a route parameter -->
                        <i class="bi bi-person-circle"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <ul class="nav flex-column" style="margin-top: 30px;">
            
            <li class="nav-item">
                <a class="nav-link" href="/EmpTaskList/TaskList">
                    <i class="bi bi-list-check"></i>
                    <span>View Tasks</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/EmpTaskList/UploadTask">
                    <i class="bi bi-cloud-upload-fill"></i>
                    <span>Upload Task</span>
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="/LeaveRequest/Create">
                    <i class="bi bi-calendar-x-fill"></i>
                    <span>Leave Requests</span>
                </a>
            </li>
           @*  <li class="nav-item">
                <a class="nav-link" href="/Employee/Performance">
                    <i class="bi bi-bar-chart-fill"></i>
                    <span>Performance</span>
                </a>
            </li> *@
            <li class="nav-item">
                <a class="nav-link" href="/Auth/Logout">
                    <i class="bi bi-door-open-fill"></i>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <h1>Welcome to the Employee Dashboard</h1>
        <p>This is your dashboard where you can manage tasks, team members, and leave requests.</p>
        <p>Feel free to add more content here.</p>
        <p>You can include forms, tables, and any other HTML elements you want.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non urna nisi. Aenean a felis neque. Cras in vehicula odio. Integer venenatis ac ligula sit amet varius. Sed ac ante et dui volutpat sollicitudin non sed massa. Nullam fringilla finibus nulla, non cursus massa dignissim nec. Sed euismod fermentum est a sagittis. Duis finibus urna a sapien consectetur gravida.</p>
        <!-- Add your manager dashboard content here -->
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // Change background color of main content when profile icon is clicked
        document.getElementById('profileIcon').addEventListener('click', function () {
            const mainContent = document.getElementById('mainContent');
            mainContent.style.backgroundColor = mainContent.style.backgroundColor === 'lightblue' ? '#f8f9fa' : 'lightblue';
        });

        // Toggle sidebar expansion on hamburger click
        const sidebar = document.getElementById('sidebar');
        const hamburger = document.getElementById('hamburger');

        hamburger.addEventListener('click', function () {
            sidebar.classList.toggle('expanded');
        });

        // Expand sidebar on hover
        sidebar.addEventListener('mouseenter', function () {
            sidebar.classList.add('expanded');
        });

        // Collapse sidebar on mouse leave
        sidebar.addEventListener('mouseleave', function () {
            sidebar.classList.remove('expanded');
        });
    </script>
</body>
</html>
