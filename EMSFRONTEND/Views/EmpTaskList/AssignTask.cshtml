


@model EMSFRONTEND.Models.TaskModel

@{
    ViewData["Title"] = "Assign Task"; // Set the title for the page
}

<!-- Apply background color to the entire page -->
<style>
    body {
        background-color: white; // Set the background color to white
    }
</style>

<h2 class="text-center mb-4">Assign Task</h2> <!-- Main heading -->

<div class="container position-relative">
    <!-- Centered form -->
    <div class="row justify-content-center">
        <div class="col-md-9">
            <form asp-action="AssignTask" method="post" class="p-5 rounded shadow-lg" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); max-width: 800px; width: 100%; border-radius: 10px;">
                <!-- Task Title Input -->
                <div class="mb-4">
                    <label for="Title" class="form-label fw-bold">Task Title</label>
                    <input type="text" name="Title" class="form-control border-0 shadow-sm p-3" placeholder="Enter task title" required style="border-radius: 10px;" />
                </div>

                <!-- Assign To Dropdown -->
                <div class="mb-4">
                    <label for="UserId" class="form-label fw-bold">Assign To</label>
                    <select name="UserId" class="form-select border-0 shadow-sm p-3" required style="border-radius: 10px;">
                        <option value="">Select an employee</option> <!-- Default option -->
                        @if (ViewBag.Employees is List<EMSFRONTEND.Models.UsersModel> employees && employees.Any())
                        {
                            // Loop through the employees to create options
                            foreach (var employee in employees)
                            {
                                        <option value="@employee.UserId">@employee.Username</option> <!-- Display username -->
                            }
                        }
                        else
                        {
                                <option value="">No employees available</option> <!-- Message if no employees -->
                        }
                    </select>
                </div>

                <!-- Task Description Input -->
                <div class="mb-4">
                    <label for="Description" class="form-label fw-bold">Task Description</label>
                    <textarea name="Description" class="form-control border-0 shadow-sm p-3" rows="4" placeholder="Enter task details" style="border-radius: 10px;"></textarea>
                </div>

                <!-- Assigned Date and Due Date Inputs -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label for="AssignedDate" class="form-label fw-bold">Assigned Date</label>
                        <input type="date" name="AssignedDate" class="form-control border-0 shadow-sm p-3" style="border-radius: 10px;" />
                    </div>

                    <div class="col-md-6">
                        <label for="DeadlineDate" class="form-label fw-bold">Due Date</label>
                        <input type="date" name="DeadlineDate" class="form-control border-0 shadow-sm p-3" required style="border-radius: 10px;" />
                    </div>
                </div>

                <!-- Resources Input -->
                <div class="mb-4">
                    <label for="Resources" class="form-label fw-bold">Resources</label>
                    <input type="text" name="Resources" class="form-control border-0 shadow-sm p-3" placeholder="Enter resources" required style="border-radius: 10px;" />
                </div>

                <!-- Button to submit the form -->
                <button type="submit" class="btn btn-primary w-100 py-3" style="border-radius: 10px; background: linear-gradient(135deg, #007bff, #0056b3); transition: background 0.3s ease;">
                    Assign Task
                </button>

                <!-- Back button -->
                @* <button type="button" class="btn btn-outline-primary w-100 py-3 mt-3" id="backButton" style="border-radius: 10px;">
                    Back
                </button> *@

                <div class="mt-3">
<a href="@Url.Action("ManagerView", "Dashboard")" class="btn btn-outline-primary">Back to Dashboard</a>
</div>
            </form>
        </div>
    </div>
</div>

<!-- JavaScript to handle back button functionality -->
<script>
    document.getElementById('backButton').addEventListener('click', function () {
        window.history.back(); // Go back to the previous page
    });
</script>
