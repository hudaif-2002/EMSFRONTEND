@model IEnumerable<EMSFRONTEND.Models.UploadWithFullDetailsDto>

@{
    ViewData["Title"] = "Employee Uploads"; // Set the title for the page
}

<h2>Employee Uploads</h2>

<div class="row">
    @foreach (var upload in Model)
    {
            <div class="col-md-4 mb-4">
              
                <div class="card" style="border-radius: 10px; border: 1px solid #ddd;">
                    <div class="card-body">
                        <h5 class="card-title">Upload ID: @upload.UploadId</h5>
                        <p class="card-text"><strong>Task Name:</strong> @upload.TaskName</p>
                        <p class="card-text"><strong>User Name:</strong> @upload.FullName</p>

                        <p class="card-text">
                            <strong>Uploaded File:</strong>
                        @{
                            var filePath = upload.FilePath;
                            // Ensure the link starts with http:// or https://
                            if (!filePath.StartsWith("http://") && !filePath.StartsWith("https://"))
                            {
                                filePath = "https://" + filePath; // Prepend https:// to ensure proper linking
                            }
                        }
                            <a href="@filePath" target="_blank" class="text-primary">View File</a> <!-- Clickable link -->
                        </p>

                        <p class="card-text"><strong>Uploaded At:</strong> @upload.UploadedAt.ToString("MMMM dd, yyyy")</p>

                    </div>
                </div>
            </div>
    }
</div>

<!-- Back button to navigate to the previous page -->
<div class="mt-3">
<a href="@Url.Action("ManagerView", "Dashboard")" class="btn btn-outline-primary">Back to Dashboard</a>
</div>

<!-- Custom CSS for styling -->
<style>
    .card {
        border-radius: 10px;
        border: 1px solid #ddd;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 100%; 
    }

    /* Style for the back button */
    .btn {
        padding: 10px 20px; 
        font-size: 16px; 
        border-radius: 5px;
        cursor: pointer; 
    }

    .btn-secondary {
        background-color: #6c757d; 
        color: white; 
        border: none; 
    }

        .btn-secondary:hover {
            background-color: #5a6268; 
        }
</style>